
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>porcupine.pluginloader — The module that loads plugins on startup &#8212; Porcupine API 0.73.0-git-8799322 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="porcupine.utils — Handy utility functions and classes" href="utils.html" />
    <link rel="prev" title="porcupine.settings — Porcupine’s setting manager" href="settings.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-porcupine.pluginloader">
<span id="porcupine-pluginloader-the-module-that-loads-plugins-on-startup"></span><h1><a class="reference internal" href="#module-porcupine.pluginloader" title="porcupine.pluginloader"><code class="xref py py-mod docutils literal notranslate"><span class="pre">porcupine.pluginloader</span></code></a> — The module that loads plugins on startup<a class="headerlink" href="#module-porcupine.pluginloader" title="Permalink to this headline">¶</a></h1>
<p>On startup, Porcupine loads plugins roughly like this (after calling
<a class="reference internal" href="porcupine.html#porcupine.init" title="porcupine.init"><code class="xref py py-func docutils literal notranslate"><span class="pre">porcupine.init()</span></code></a>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">porcupine</span> <span class="kn">import</span> <span class="n">pluginloader</span>
<span class="n">pluginloader</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">pluginloader</span><span class="o">.</span><span class="n">find_plugins</span><span class="p">())</span>
</pre></div>
</div>
<p><a class="reference external" href="https://github.com/Akuli/porcupine/tree/master/porcupine/__main__.py">The real code</a> is a little more complicated
than that because the behaviour can be changed with command-line arguments, but
you get the idea.</p>
<p>In this documentation, a plugin name means no file extension or
<code class="docutils literal notranslate"><span class="pre">porcupine.plugins.</span></code> prefix, e.g. <code class="docutils literal notranslate"><span class="pre">highlight</span></code> instead of <code class="docutils literal notranslate"><span class="pre">highlight.py</span></code>
or <code class="docutils literal notranslate"><span class="pre">porcupine.plugins.highlight</span></code>.</p>
<dl class="py function">
<dt id="porcupine.pluginloader.find_plugins">
<code class="sig-prename descclassname">porcupine.pluginloader.</code><code class="sig-name descname">find_plugins</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Set<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a><span class="p">]</span><a class="reference internal" href="_modules/porcupine/pluginloader.html#find_plugins"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#porcupine.pluginloader.find_plugins" title="Permalink to this definition">¶</a></dt>
<dd><p>Return names of plugins that can be loaded.</p>
<p>Note that loading some of the returned plugins may fail.</p>
</dd></dl>

<dl class="py function">
<dt id="porcupine.pluginloader.load">
<code class="sig-prename descclassname">porcupine.pluginloader.</code><code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">plugin_names</span><span class="p">:</span> <span class="n">Iterable<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">shuffle</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)">bool</a></span> <span class="o">=</span> <span class="default_value">False</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)">None</a><a class="reference internal" href="_modules/porcupine/pluginloader.html#load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#porcupine.pluginloader.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load plugins.</p>
<p>The plugins are always ordered using their <code class="docutils literal notranslate"><span class="pre">setup_before</span></code> and
<code class="docutils literal notranslate"><span class="pre">setup_after</span></code> lists. The <em>shuffle</em> argument determines what is
done when multiple plugins can be loaded in any order with respect
to each other. By default, they are sorted alphabetically, so
things like menu items are always in the same order. Setting
<code class="docutils literal notranslate"><span class="pre">shuffle=True</span></code> means that a random order is used instead; this is
useful for making sure that the plugins don’t rely on the sorting.</p>
<p>Any exceptions from the plugins are caught and logged, so there’s no
need to wrap calls to this function in <code class="docutils literal notranslate"><span class="pre">try,except</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt id="porcupine.pluginloader.get_loaded_plugins">
<code class="sig-prename descclassname">porcupine.pluginloader.</code><code class="sig-name descname">get_loaded_plugins</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a><span class="p">]</span><a class="reference internal" href="_modules/porcupine/pluginloader.html#get_loaded_plugins"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#porcupine.pluginloader.get_loaded_plugins" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of plugin names that have been loaded successfully.</p>
<p>This is useful for writing plugins that need to start a new Porcupine
process and load the same plugins in the new process. See
<a class="reference external" href="https://github.com/Akuli/porcupine/tree/master/porcupine/plugins/poppingtabs.py">porcupine/plugins/poppingtabs.py</a> for an example.</p>
<p>The returned list is in loading order, and mutating the returned list
doesn’t break anything.</p>
</dd></dl>

</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Porcupine API</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="plugin-intro.html">Introduction to Writing Plugins</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="porcupine.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">porcupine</span></code> — The top level Porcupine package</a></li>
<li class="toctree-l1"><a class="reference internal" href="actions.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">porcupine.actions</span></code> — Add stuff to the menubar</a></li>
<li class="toctree-l1"><a class="reference internal" href="tabs.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">porcupine.tabs</span></code> — The tab manager and tabs in it</a></li>
<li class="toctree-l1"><a class="reference internal" href="textwidget.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">porcupine.textwidget</span></code> — Handy <code class="docutils literal notranslate"><span class="pre">tkinter.Text</span></code> subclasses</a></li>
<li class="toctree-l1"><a class="reference internal" href="images.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">porcupine.images</span></code> — Load images that come with Porcupine</a></li>
<li class="toctree-l1"><a class="reference internal" href="dirs.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">porcupine.dirs</span></code> — Paths to Porcupine’s files</a></li>
<li class="toctree-l1"><a class="reference internal" href="filetypes.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">porcupine.filetypes</span></code> — <code class="docutils literal notranslate"><span class="pre">filetypes.ini</span></code> stuff</a></li>
<li class="toctree-l1"><a class="reference internal" href="settings.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">porcupine.settings</span></code> — Porcupine’s setting manager</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">porcupine.pluginloader</span></code> — The module that loads plugins on startup</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">porcupine.utils</span></code> — Handy utility functions and classes</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="settings.html" title="previous chapter"><code class="xref py py-mod docutils literal notranslate"><span class="pre">porcupine.settings</span></code> — Porcupine’s setting manager</a></li>
      <li>Next: <a href="utils.html" title="next chapter"><code class="xref py py-mod docutils literal notranslate"><span class="pre">porcupine.utils</span></code> — Handy utility functions and classes</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Akuli.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/pluginloader.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>