
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>porcupine.pluginloader — The module that loads plugins on startup &#8212; Porcupine API 0.67.0-git-e9b1a3f documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.67.0-git-e9b1a3f',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="porcupine.utils — Handy utility functions and classes" href="utils.html" />
    <link rel="prev" title="porcupine.settings — Porcupine’s setting manager" href="settings.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-porcupine.pluginloader">
<span id="porcupine-pluginloader-the-module-that-loads-plugins-on-startup"></span><h1><a class="reference internal" href="#module-porcupine.pluginloader" title="porcupine.pluginloader"><code class="xref py py-mod docutils literal"><span class="pre">porcupine.pluginloader</span></code></a> — The module that loads plugins on startup<a class="headerlink" href="#module-porcupine.pluginloader" title="Permalink to this headline">¶</a></h1>
<p>On startup, Porcupine loads plugins roughly like this (after calling
<a class="reference internal" href="porcupine.html#porcupine.init" title="porcupine.init"><code class="xref py py-func docutils literal"><span class="pre">porcupine.init()</span></code></a>):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">porcupine</span> <span class="k">import</span> <span class="n">pluginloader</span>
<span class="n">pluginloader</span><span class="o">.</span><span class="n">load_plugins</span><span class="p">(</span><span class="n">pluginloader</span><span class="o">.</span><span class="n">find_plugins</span><span class="p">())</span>
</pre></div>
</div>
<p><a class="reference external" href="https://github.com/Akuli/porcupine/tree/master/porcupine/__main__.py">The real code</a> is a little more complicated
than that because the behaviour can be changed with command-line arguments, but
you get the idea.</p>
<p>In this documentation, a plugin name means no file extension or
<code class="docutils literal"><span class="pre">porcupine.plugins.</span></code> prefix, e.g. <code class="docutils literal"><span class="pre">highlight</span></code> instead of <code class="docutils literal"><span class="pre">highlight.py</span></code>
or <code class="docutils literal"><span class="pre">porcupine.plugins.highlight</span></code>.</p>
<dl class="function">
<dt id="porcupine.pluginloader.find_plugins">
<code class="descclassname">porcupine.pluginloader.</code><code class="descname">find_plugins</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/porcupine/pluginloader.html#find_plugins"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#porcupine.pluginloader.find_plugins" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a set of names of plugins that can be loaded.</p>
<p>Note that loading some of the returned plugins may fail.</p>
</dd></dl>

<dl class="function">
<dt id="porcupine.pluginloader.load">
<code class="descclassname">porcupine.pluginloader.</code><code class="descname">load</code><span class="sig-paren">(</span><em>plugin_names</em>, <em>shuffle=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/porcupine/pluginloader.html#load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#porcupine.pluginloader.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load plugins from an iterable of names.</p>
<p>The plugins are always ordered using their <code class="docutils literal"><span class="pre">setup_before</span></code> and
<code class="docutils literal"><span class="pre">setup_after</span></code> lists. The <em>shuffle</em> argument determines what is
done when multiple plugins can be loaded in any order with respect
to each other. By default, they are sorted alphabetically, so
things like menu items are always in the same order. Setting
<code class="docutils literal"><span class="pre">shuffle=True</span></code> means that a random order is used instead; this is
useful for making sure that the plugins don’t rely on the sorting.</p>
<p>Any exceptions from the plugins are caught and logged, so there’s no
need to wrap calls to this function in <code class="docutils literal"><span class="pre">try</span></code>,``except``.</p>
</dd></dl>

<dl class="function">
<dt id="porcupine.pluginloader.get_loaded_plugins">
<code class="descclassname">porcupine.pluginloader.</code><code class="descname">get_loaded_plugins</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/porcupine/pluginloader.html#get_loaded_plugins"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#porcupine.pluginloader.get_loaded_plugins" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of plugin names that have been loaded in their loading order.</p>
<p>This is useful for plugins that need to start a new Porcupine
process and load plugins in that.</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="settings.html" title="previous chapter"><code class="docutils literal"><span class="pre">porcupine.settings</span></code> — Porcupine’s setting manager</a></li>
      <li>Next: <a href="utils.html" title="next chapter"><code class="docutils literal"><span class="pre">porcupine.utils</span></code> — Handy utility functions and classes</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/pluginloader.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Akuli.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/pluginloader.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>